<div header></div>

<div class='container'>

	<section id="editposting">
	<div class="page-header">
		<h1>Edit Posting</h1>
	</div>

		<div class="posting-detail-style row" ng-show="message == undefined">
			<div class="posting-style container-fluid ">
				<p><b>NOTE:</b> You will be able to create your volunteering opportunities that can be seen 
					by users who are looking to volunteer! It's important to note that you should provide 
					as much detail as possible in the description area of your postings. Some things you can 
					add in the description area is: 
						<ul>
						  <li>Shifts/Times of volunteer positions</li>
						  <li>Skills desired/required</li>
						  <li>Long/Short term volunteer positions</li>
						</ul>
				</p>
				<form class="form-horizontal" role="form" ng-submit='editPosting()'>

					<div class='row'>
					
						<div>
						  <label for='jobTitle' class='control-label'>Change Job Title: </label>
						  <input 
							ng-model='posting.JobTitle' 
							type='text' 
							name='jobTitle' 
							ng-model="posting.JobTitle"
							class='form-control' 
							required/>
						</div>
						<div>
							<br>
							
							<label class="control-label" for='address'>Change Address:</label>
							<input type="text" 
			          ng-model="asyncSelected" 
			          placeholder="Type address here" 
			          uib-typeahead="address for address in getLocation($viewValue)" 
			          typeahead-loading="loadingLocations" 
			          typeahead-no-results="noResults" 
			          typeahead-on-select='setAddress()'
			          class="form-control"
			          name='address'>
							<label ng-show="loadingLocations" class="fa fa-spinner fa-spin"></label>

							<div ng-show="noResults">
							  <i class="fa fa-times"></i> No Results Found
							</div>

							<div class='row'>
				        <div class='col-md-6'>
				          <label class="control-label" for='eventDate'>Event Date:</label>
				          <p class='input-group'>
				            <input type='text' 
				              class='form-control' 
				              uib-datepicker-popup='dd-MMMM-yyyy' 
				              ng-model='eventDate'
				              is-open='eventDatePopup.opened'
				              datepicker-options='dateOptions'
				              ng-required='true'
				              close-text='Close'
				              alt-input-formats='altInputFormats'
				              ng-change='updateDeadline(eventDate)' />
				            <span class='input-group-btn'>
				              <button type='button' class='btn btn-default' ng-click='openEventDate()'><i class='fa fa-calendar'></i></button>
				            </span>
				          </p>
				        </div>
				        <div class='col-md-6'>
				          <label class="control-label" for='deadline'>Application Deadline:</label>
				          <p class='input-group'>
				            <input type='text' 
				              class='form-control' 
				              uib-datepicker-popup='dd-MMMM-yyyy' 
				              ng-model='deadline'
				              is-open='deadlinePopup.opened'
				              datepicker-options='deadlineOptions'
				              ng-required='true'
				              close-text='Close'
				              alt-input-formats='altInputFormats' />
				            <span class='input-group-btn'>
				              <button type='button' class='btn btn-default' ng-click='openDeadline()'><i class='fa fa-calendar-times-o'></i></button>
				            </span>
				          </p>
				        </div>
				      </div>
							
							<div>
								<br>
								<label for='description' class='control-label'>Change Description: </label>
								<textarea ng-model='posting.Description' name='description' rows='5' class='form-control' required></textarea>
							</div>
							
							<br>
							<label class='control-label'>Tags: </label>
							<div><small>Tags help users find your posting! Simply check any category which applies to your posting.</small></div>
							<div ng-repeat='tag in tags' ng-if='$index % 3 == 0' class='row tag-group'>
							  <div class='col-md-4'>
							  	<input name='tags' type='checkbox' value='tags[$index].TagID' ng-checked='tags[$index].Enabled' ng-click='tags[$index].Enabled = !tags[$index].Enabled' id="tags{{tags[$index].TagID}}">
							  	<label class='tag-label' for='tags{{tags[$index].TagID}}'>{{tags[$index].Name}}</label>
							  </div>
							  <div class='col-md-4' ng-if='tags.length > ($index + 1)'>
							  	<input name='tags' type='checkbox' value='tags[$index + 1].TagID' ng-checked='tags[$index + 1].Enabled' ng-click='tags[$index + 1].Enabled = !tags[$index + 1].Enabled' id='tags{{tags[$index + 1].TagID}}'>
							  	<label class='tag-label' for='tags{{tags[$index + 1].TagID}}'>{{tags[$index + 1].Name}}</label>
							  </div>
							  <div class='col-md-4' ng-if='tags.length > ($index + 2)'>
							  	<input name='tags' type='checkbox' value='tags[$index + 2].TagID' ng-checked='tags[$index + 2].Enabled' ng-click='tags[$index + 2].Enabled = !tags[$index + 2].Enabled' id='tags{{tags[$index + 2].TagID}}'>
							  	<label class='tag-label' for='tags{{tags[$index + 2].TagID}}'>{{tags[$index + 2].Name}}</label>
							  </div>
							
							</div>
							<br>
							
							<div class="form-group ">
								<br>
								<input class='btn col-md-3 col-md-offset-2 btn-primary' type='submit' value='Apply Changes'>
								<a class="btn col-md-3 col-md-offset-1 " href='#/postings/{{posting.PostingID}}'>Cancel</a>
							</div>		
						
							<div>{{message}}</div>
					</div>
			</form>
		</div>
		</div>
				
									
				
			
		
		</div>
	</section>	
</div>

<div footer></div>